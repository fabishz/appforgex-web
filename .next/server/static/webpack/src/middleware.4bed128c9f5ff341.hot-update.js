"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("src/middleware",{

/***/ "(middleware)/./src/auth.config.ts":
/*!****************************!*\
  !*** ./src/auth.config.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   authConfig: () => (/* binding */ authConfig)\n/* harmony export */ });\nconst authConfig = {\n    pages: {\n        signIn: '/login'\n    },\n    callbacks: {\n        authorized ({ auth, request: { nextUrl } }) {\n            const isLoggedIn = !!auth?.user;\n            const isOnTraining = nextUrl.pathname.startsWith('/training');\n            const isOnAdmin = nextUrl.pathname.startsWith('/admin');\n            const isOnLogin = nextUrl.pathname.startsWith('/login');\n            const isOnRegister = nextUrl.pathname.startsWith('/register');\n            if (isOnAdmin) {\n                if (isLoggedIn && auth?.user?.role === 'admin') return true;\n                return Response.redirect(new URL('/training', nextUrl)); // Redirect non-admins to training\n            }\n            if (isOnTraining) {\n                if (isLoggedIn) return true;\n                return false; // Redirect unauthenticated users to login page\n            } else if (isLoggedIn && (isOnLogin || isOnRegister)) {\n                return Response.redirect(new URL('/training', nextUrl));\n            }\n            return true;\n        }\n    },\n    providers: []\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vc3JjL2F1dGguY29uZmlnLnRzIiwibWFwcGluZ3MiOiI7Ozs7QUFHTyxNQUFNQSxhQUFhO0lBQ3RCQyxPQUFPO1FBQ0hDLFFBQVE7SUFDWjtJQUNBQyxXQUFXO1FBQ1BDLFlBQVcsRUFBRUMsSUFBSSxFQUFFQyxTQUFTLEVBQUVDLE9BQU8sRUFBRSxFQUFFO1lBQ3JDLE1BQU1DLGFBQWEsQ0FBQyxDQUFDSCxNQUFNSTtZQUMzQixNQUFNQyxlQUFlSCxRQUFRSSxRQUFRLENBQUNDLFVBQVUsQ0FBQztZQUNqRCxNQUFNQyxZQUFZTixRQUFRSSxRQUFRLENBQUNDLFVBQVUsQ0FBQztZQUM5QyxNQUFNRSxZQUFZUCxRQUFRSSxRQUFRLENBQUNDLFVBQVUsQ0FBQztZQUM5QyxNQUFNRyxlQUFlUixRQUFRSSxRQUFRLENBQUNDLFVBQVUsQ0FBQztZQUVqRCxJQUFJQyxXQUFXO2dCQUNYLElBQUlMLGNBQWNILE1BQU1JLE1BQU1PLFNBQVMsU0FBUyxPQUFPO2dCQUN2RCxPQUFPQyxTQUFTQyxRQUFRLENBQUMsSUFBSUMsSUFBSSxhQUFhWixXQUFXLGtDQUFrQztZQUMvRjtZQUVBLElBQUlHLGNBQWM7Z0JBQ2QsSUFBSUYsWUFBWSxPQUFPO2dCQUN2QixPQUFPLE9BQU8sK0NBQStDO1lBQ2pFLE9BQU8sSUFBSUEsY0FBZU0sQ0FBQUEsYUFBYUMsWUFBVyxHQUFJO2dCQUNsRCxPQUFPRSxTQUFTQyxRQUFRLENBQUMsSUFBSUMsSUFBSSxhQUFhWjtZQUNsRDtZQUNBLE9BQU87UUFDWDtJQUNKO0lBQ0FhLFdBQVcsRUFBRTtBQUNqQixFQUEyQiIsInNvdXJjZXMiOlsiL2hvbWUvZmFicmljZS9Eb3dubG9hZHMvYXBwZm9yZ2V4L2FwcGZvcmdleC1kaWdpdGFsLXNob3djYXNlLW1haW4vc3JjL2F1dGguY29uZmlnLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIlxuaW1wb3J0IHR5cGUgeyBOZXh0QXV0aENvbmZpZyB9IGZyb20gJ25leHQtYXV0aCc7XG5cbmV4cG9ydCBjb25zdCBhdXRoQ29uZmlnID0ge1xuICAgIHBhZ2VzOiB7XG4gICAgICAgIHNpZ25JbjogJy9sb2dpbicsXG4gICAgfSxcbiAgICBjYWxsYmFja3M6IHtcbiAgICAgICAgYXV0aG9yaXplZCh7IGF1dGgsIHJlcXVlc3Q6IHsgbmV4dFVybCB9IH0pIHtcbiAgICAgICAgICAgIGNvbnN0IGlzTG9nZ2VkSW4gPSAhIWF1dGg/LnVzZXI7XG4gICAgICAgICAgICBjb25zdCBpc09uVHJhaW5pbmcgPSBuZXh0VXJsLnBhdGhuYW1lLnN0YXJ0c1dpdGgoJy90cmFpbmluZycpO1xuICAgICAgICAgICAgY29uc3QgaXNPbkFkbWluID0gbmV4dFVybC5wYXRobmFtZS5zdGFydHNXaXRoKCcvYWRtaW4nKTtcbiAgICAgICAgICAgIGNvbnN0IGlzT25Mb2dpbiA9IG5leHRVcmwucGF0aG5hbWUuc3RhcnRzV2l0aCgnL2xvZ2luJyk7XG4gICAgICAgICAgICBjb25zdCBpc09uUmVnaXN0ZXIgPSBuZXh0VXJsLnBhdGhuYW1lLnN0YXJ0c1dpdGgoJy9yZWdpc3RlcicpO1xuXG4gICAgICAgICAgICBpZiAoaXNPbkFkbWluKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlzTG9nZ2VkSW4gJiYgYXV0aD8udXNlcj8ucm9sZSA9PT0gJ2FkbWluJykgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFJlc3BvbnNlLnJlZGlyZWN0KG5ldyBVUkwoJy90cmFpbmluZycsIG5leHRVcmwpKTsgLy8gUmVkaXJlY3Qgbm9uLWFkbWlucyB0byB0cmFpbmluZ1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoaXNPblRyYWluaW5nKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlzTG9nZ2VkSW4pIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsgLy8gUmVkaXJlY3QgdW5hdXRoZW50aWNhdGVkIHVzZXJzIHRvIGxvZ2luIHBhZ2VcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNMb2dnZWRJbiAmJiAoaXNPbkxvZ2luIHx8IGlzT25SZWdpc3RlcikpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gUmVzcG9uc2UucmVkaXJlY3QobmV3IFVSTCgnL3RyYWluaW5nJywgbmV4dFVybCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0sXG4gICAgfSxcbiAgICBwcm92aWRlcnM6IFtdLCAvLyBBZGQgcHJvdmlkZXJzIHdpdGggYW4gZW1wdHkgYXJyYXkgZm9yIG5vd1xufSBzYXRpc2ZpZXMgTmV4dEF1dGhDb25maWc7XG4iXSwibmFtZXMiOlsiYXV0aENvbmZpZyIsInBhZ2VzIiwic2lnbkluIiwiY2FsbGJhY2tzIiwiYXV0aG9yaXplZCIsImF1dGgiLCJyZXF1ZXN0IiwibmV4dFVybCIsImlzTG9nZ2VkSW4iLCJ1c2VyIiwiaXNPblRyYWluaW5nIiwicGF0aG5hbWUiLCJzdGFydHNXaXRoIiwiaXNPbkFkbWluIiwiaXNPbkxvZ2luIiwiaXNPblJlZ2lzdGVyIiwicm9sZSIsIlJlc3BvbnNlIiwicmVkaXJlY3QiLCJVUkwiLCJwcm92aWRlcnMiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(middleware)/./src/auth.config.ts\n");

/***/ })

});